<!DOCTYPE html>
<html lang="en">
<head>
        <title>BigBo's blog</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
        <link href="/" type="application/atom+xml" rel="alternate" title="BigBo's blog Flux ATOM" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie.css"/>
                <script src="/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/index.html">BigBo's blog </a></h1>
                <nav><ul>
                <li><a href="/index.html">Accueil</a></li>
                <li><a href="/archives.html">Archives</a></li>
                    <li ><a href="/pages/about/">About</a></li>
                </ul></nav>
        </header><!-- /#banner -->

        
        
     <section id="content" class="body">
        <aside id="featured"><article>
                <h1 class="entry-title"><a href="/pages/2014/12/28/create-blog/">用Pelican&GitHubPages搭建个人博客</a></h1> 
                <footer class="post-info">
                        <abbr class="published" title="2014-12-28T00:02:00+08:00">
                                Publié le 28/12/2014 &agrave; 00:02
                        </abbr>

                        <address class="vcard author">
                                Par <a class="url fn" href="#">ljingb</a>
                        </address>
                <p>Dans <a href="/category/tecnology.html">Tecnology</a>. </p>
</p>                </footer><!-- /.post-info -->
                <h3>前言</h3>
<p>对于github.io早有认识,但是趋于各种懒,至今才动手.想把这几年的一些自己总结的东西做些记录,匆匆那些年,也应该给自己做些积累了.</p>
<p>那么问题来了,建立github page有各种框架,例如:<a href="http://jekyllrb.com/">jekyll</a>,<a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers">liquid</a>,<a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/">Pelican</a>等等,本文采用后者Pelican,关于Pelican不做过多介绍,想了解的就去连接到的文档看吧.</p>
<hr />
<h3>搭建基础</h3>
<p>Pelican基于Python,相比Wordpress等其他框架来说,它比较轻,另外有些自己的<a href="http://docs.getpelican.com/en/3.3.0/#features">特性</a>,再配合免费的github pages,非常棒!主要是在linux下进行搭建,过程中会涉及如下技术知识,不过都是很初级的使用,即使新手也可以很容易的上手.</p>
<blockquote>
<p><a href="https://github.com">github</a></p>
<p><a href="https://pages.github.com">github pages</a></p>
<p><a href="http://git-scm.com/blog/2010/06/09/pro-git-zh.html">git</a></p>
<p><a href="http://www.python.org">python</a></p>
<p><a href="https://pypi.python.org/pypi/pip">pip</a></p>
<p><a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest">pelican</a></p>
<p><a href="http://wowubuntu.com/markdown/">markdown</a></p>
</blockquote>
<hr />
<h3>下载安装</h3>
<p>由于是linux环境,大部分依赖是有的,没有的话可以通过yum/apt-get去安装.win的话就请参照安装.</p>
<blockquote>
<ol>
<li>安装python</li>
<li>安装git</li>
<li>安装pip</li>
<li>安装pelican&amp;markdown    </li>
</ol>
</blockquote>
<div class="highlight"><pre>pip install pelican
pip install markdown
</pre></div>


<hr />
<h3>框架初建</h3>
<p>创建文件夹,执行以下命令</p>
<div class="highlight"><pre>mkdir blog //注意命名
cd blog
pelican-quickstart
</pre></div>


<p>pelican-quickstart执行命令后,可以依照向导,输入相关配置项,怎么填写可以很随意,后续都可以在pelicanconf.py文件中进行更改.</p>
<p>命令成功执行后,会出现pelican的框架,如下所示:</p>
<div class="highlight"><pre>blog/
|-- content             # 存放输入的markdown或RST源文件
|-- output              # 存放最终生成的静态博客
|-- pelicanconf.py      # 配置文件
|-- develop_server.sh   # 测试服务器
|-- Makefile            # 管理博客的Makefile
`-- publishconf.py      # 发布文件，可删除
</pre></div>


<p>以上完成整体大的框架.</p>
<hr />
<h4>填写内容</h4>
<p>至此,我们可以开始使用Markdown创建一个页面,进入content文件夹,创建一个.md文件.大致如:</p>
<p><img alt="Alt text" src="/pictures/pic1.png" /></p>
<p>可以通过截图看到我现在这个页面的Markdown版本的源文件,这里要说的是开头部分的<strong>Title,Category</strong>等重点字段.详情见<a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/getting_started.html#pelican">文档</a>,涵义如下:</p>
<div class="highlight"><pre>Title: 文章标题
Date: 创建日期
Modified: 修改日期
Category: 文章分类，标志本文处于该分类下
Tags: 文章标签，标志本文处于该标签下
Slug: URL中该文章的链接地址
Author: 作者
</pre></div>


<p>可以简单的写个内容做测试,然后回到<strong>blog</strong>目录下.</p>
<p>执行<strong>make html</strong>生成html</p>
<div class="highlight"><pre>[jingbo.li@zero bigbo-blog]$ make html 
pelican /home/jingbo.li/dev/bigbo-blog/content -o /home/jingbo.li/dev/bigbo-blog/output -s /home/jingbo.li/dev/bigbo-blog/pelicanconf.py 
Done: Processed 1 article(s), 0 draft(s) and 1 page(s) in 0.83 seconds.
</pre></div>


<p>表示已经生成了html页面,可以去<strong>/blog/output</strong>目录下查看已经生成的html页面.</p>
<p>接着执行<strong>make server</strong>开启服务,可以看到相关log</p>
<div class="highlight"><pre>[jingbo.li@zero bigbo-blog]$ make serve 
cd /home/jingbo.li/dev/bigbo-blog/output &amp;&amp; python -m pelican.server
</pre></div>


<p>即可可以用浏览器访问<strong>http://localhost:8000</strong>看到显示效果.</p>
<p><strong>*AD:更多便捷命令</strong></p>
<div class="highlight"><pre>make regenerate     #修改后自动创建静态界面(make html)
make devserver      #相当于regenerate+serve
make publish        #生成用于发布的html
</pre></div>


<p>文档中还有其他一些命令,请自行发掘.</p>
<hr />
<h3>设置相关</h3>
<hr />
<h4>主题选择</h4>
<p>如果你能到这一步,那么恭喜你,你已经搭建完一个属于自己的博客了.以下是对自己博客的包装.
首先打开<a href="http://www.pelicanthemes.com/">主题官网</a>挑选自己喜欢的主题,当然我们可以把整个<a href="https://github.com/getpelican/pelican-themes">主题库</a>clone到本地.</p>
<div class="highlight"><pre> git clone https://github.com/getpelican/pelican-themes.git
</pre></div>


<p>现在可以自由选择不错的主题了.打开<strong>pelicanconf.py</strong>配置文件,添加或是更改<strong>THEME</strong>为自己喜欢的主题.更多配置请见<a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/settings.html#id20">官方文档</a>.</p>
<p>例如选择notmyidea-cms-fr主题:</p>
<div class="highlight"><pre>THEME = &#39;pelican-themes/notmyidea-cms-fr&#39; #相对路径或是绝对路径
</pre></div>


<hr />
<h5>link的图标不加载</h5>
<p>主题选择后打开页面一看,擦,有些瑕疵,旁边的一些github等连接没有图片,影响美观不说B格瞬减.
连接上的小图标:</p>
<p><img alt="如图上面的小图标" src="/pictures/pic2.png" title="u&quot;如图上面的小图标&quot;" /></p>
<p>通过分析查看原因,得知是由于css问题,来到主题文件夹下,尝试修改加载的css文件:</p>
<div class="highlight"><pre>  <span class="nt">cd</span> <span class="nt">pelican-themes</span><span class="o">/</span><span class="nt">notmyidea-cms-fr</span><span class="o">/</span><span class="nt">static</span><span class="o">/</span><span class="nt">css</span>
  <span class="nt">vim</span> <span class="nt">main</span><span class="nc">.css</span>
  <span class="err">#添加如下字段</span>
  <span class="nc">.social</span> <span class="nt">a</span><span class="cp">[</span><span class="nx">href</span><span class="o">*=</span><span class="s1">&#39;github.com&#39;</span><span class="cp">]</span><span class="nd">:before</span> <span class="p">{</span><span class="k">content</span><span class="o">:</span> <span class="sx">url(&#39;../images/icons/github.png&#39;)</span><span class="p">;</span> <span class="k">margin-right</span><span class="o">:</span> <span class="m">2px</span><span class="p">;</span> <span class="k">vertical-align</span><span class="o">:</span> <span class="m">-3px</span><span class="p">;}</span>
  <span class="err">#注意在相应位置放上图标</span>
</pre></div>


<p>久违的图标就会展现在你的眼前了,B格瞬间上升几个百分点.</p>
<hr />
<h4>添加评论系统</h4>
<p>历经沧桑,终于算是大功告成.等下!貌似还缺一个功能,评论系统.评论可以促进交流,所以这个当然不能少了.目前采用的是国外的评论系统<a href="https://disqus.com/">Disqus</a>,安装流程注册填写,会给你博客相关站点分配一个<strong>Shortname</strong>.</p>
<p>回到配置文件<strong>pelicanconf.py</strong>添加配置</p>
<div class="highlight"><pre>DISQUS_SITENAME = Shortname
</pre></div>


<p>现在大功告成,可以生成页面开始把玩一番吧!</p>
<hr />
<h3>编写文章</h3>
<p>几经转辗,终于可以发篇文章炫耀下了,哈哈哈.本文给予<strong>github pages</strong>,当然如果你有自己的服务器可以根据<a href="https://help.github.com/articles/creating-pages-with-the-automatic-generator/">官方教程</a>设置你自己的站点服务器.这样你就拥有一个二级域名和一个版本库.任性的更新.</p>
<p>进入<strong><em>blog</em></strong>目录下的<strong><em>output</em></strong>文件夹内,依次执行以下命令:</p>
<div class="highlight"><pre>  git init
  git add .
  git remote add origin https://github.com/bigbo/bigbo.github.io
  git pull origin master
  git commit -m &#39;create blog&#39;
  git push origin master
</pre></div>


<p>当然如果你不会git,没关系,现在先按照<a href="http://www.git-scm.com/book/zh/v1">官方文档</a>敲就可以了.熟悉git的同学可以选择使用框架提供的<strong>Makefile</strong>文件进行一键上传.</p>
<p>一个完整的博客创建发布流程算是完成了.最后打开浏览器访问github pages的域名即可访问.</p>
<hr />
<h3>总结</h3>
<p>目前博客已经可以满足基本的正常使用了.其实我们还可以对其进行不断完善,让其变得更优雅.后续再写些关于插件\配置等有关的内容.</p>
<p>第一次建立属于自己的空间,写的过程中参见了网上不少的例子,内容都是参疵不齐.更多的是参照官方文档,或是请教<a href="http://google.com">google</a>,这个过程持续了3--4天,终于完成了第一篇,收获还是满满的.当然后续还会有第二第三篇.</p>
<p>不管怎样,收获远大于付出.也算是为2014画上半个句号.希望 2015 come on!</p>
        </article></aside><!-- /#featured -->
</ol><!-- /#posts-list -->
</section><!-- /#content -->

        <aside id="sidebar">
                <div class="widget">
                        <h2>Catégories</h2>
                        <ul>
                           <li ><a href="/category/tecnology.html">Tecnology</a></li>
                        </ul>
                </div>
                <div class="widget blogroll">
                        <h2>Liens</h2>
                        <ul>
                            <li><a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/">Pelican Doc</a></li>
                            <li><a href="http://chenlinux.com/">三斗室</a></li>
                            <li><a href="http://argcv.com/">JingY</a></li>
                            <li><a href="http://hailinzeng.github.io/">Hailin Zeng</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="widget social">
                        <h2>Réseaux sociaux</h2>
                        <ul>
                            <li><a href="/" rel="alternate">atom feed</a></li>

                            <li><a href="feeds/all.rss.xml">atom</a></li>
                            <li><a href="https://github.com/bigbo">GitHub</a></li>
                            <li><a href="https://plus.google.com/109995827478386248705">Google+</a></li>
                            <li><a href="https://lnkd.in/bsndpJX">Linkedin</a></li>
                        </ul>
                </div><!-- /.social -->
        </aside><!-- /#sidebar -->

        <footer id="footer" class="body">
                <address id="about" class="vcard body">
                <a href="http://bigbo.github.io/">Bigbo's</a> site BY ljingb , un CMS réalisé en <a href="http://python.org">Python</a>.
                </address><!-- /#about -->
        </footer><!-- /#footer -->

</body>
</html>
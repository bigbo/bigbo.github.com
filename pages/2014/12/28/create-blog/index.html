<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="author" content="ljingb" />
    <meta name="robots" content="index, follow"/>

    <meta property="og:title" content="用Pelican&GitHubPages搭建个人博客"/>
    <meta property="og:url" content="http://bigbo.github.io/pages/2014/12/28/create-blog/"/>
    <meta property="og:site_name" content="BigBo's blog"/>
    <meta property="og:type" content="article"/>

    <link rel="canonical" href="http://bigbo.github.io/pages/2014/12/28/create-blog/" />

    <title>用Pelican&GitHubPages搭建个人博客 | BigBo's blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" />

    <link rel="stylesheet" type="text/css" href="http://bigbo.github.io/theme/css/main.css" />
    <link href="None/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="BigBo's blog Atom Feed" />

    <script type="text/javascript">var switchTo5x=true;</script>
    <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">
        stLight.options({
            publisher: "",
            doNotHash: false,
            doNotCopy: false,
            hashAddressBar: false
        });
    </script>
</head>

<body id="index">
    <div class="row-fluid">
        <div class="span10 offset1">
            <header id="banner" >
                <h1>
                    <a href="http://bigbo.github.io/">BigBo's blog </a>
                </h1>
                <nav class="navbar">
                    <div class="navbar-inner">
                        <ul class="nav">
                            <li ><a href="http://bigbo.github.io/pages/about/">About</a></li>
                            <li ><a href="http://bigbo.github.io/category/gui-dang.html">归档</a></li>
                            <li class="active"><a href="http://bigbo.github.io/category/technology.html">Technology</a></li>
                        </ul>

                    </div>
                </nav>
            </header><!-- /#banner -->
        </div>
    </div>

    <div class="row-fluid">
        <div class="span10 offset1">
            <div class="row-fluid">
<div class="span10 offset1">
  <section>
    <article>
      <header>
        <h1 class="entry-title">
          <a href="http://bigbo.github.io/pages/2014/12/28/create-blog/" rel="bookmark"
             title="Permalink to 用Pelican&GitHubPages搭建个人博客">用Pelican&GitHubPages搭建个人博客</a></h1>
      </header>
      <div class="entry-content">
<footer class="post-info">
    <address class="vcard author">
        by <a class="url fn" href="http://bigbo.github.io/author/ljingb.html">ljingb</a>
    </address>

    in <a href="http://bigbo.github.io/category/technology.html">Technology</a>

    on 2014-12-28

        |
        tags:         <a href="http://bigbo.github.io/tag/github-pages.html">github pages</a>
        <a href="http://bigbo.github.io/tag/pelican.html">pelican</a>


        |
        <a href="http://bigbo.github.io/pages/2014/12/28/create-blog/#disqus_thread">comments</a>

    
</footer><!-- /.post-info -->

        <h3>前言</h3>
<p>对于github.io早有认识,但是趋于各种懒,至今才动手.想把这几年的一些自己总结的东西做些记录,匆匆那些年,也应该给自己做些积累了.</p>
<p>那么问题来了,建立github page有各种框架,例如:<a href="http://jekyllrb.com/">jekyll</a>,<a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers">liquid</a>,<a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/">Pelican</a>等等,本文采用后者Pelican,关于Pelican不做过多介绍,想了解的就去连接到的文档看吧.</p>
<hr />
<h3>搭建基础</h3>
<p>Pelican基于Python,相比Wordpress等其他框架来说,它比较轻,另外有些自己的<a href="http://docs.getpelican.com/en/3.3.0/#features">特性</a>,再配合免费的github pages,非常棒!主要是在linux下进行搭建,过程中会涉及如下技术知识,不过都是很初级的使用,即使新手也可以很容易的上手.</p>
<blockquote>
<p><a href="https://github.com">github</a></p>
<p><a href="https://pages.github.com">github pages</a></p>
<p><a href="http://git-scm.com/blog/2010/06/09/pro-git-zh.html">git</a></p>
<p><a href="http://www.python.org">python</a></p>
<p><a href="https://pypi.python.org/pypi/pip">pip</a></p>
<p><a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest">pelican</a></p>
<p><a href="http://wowubuntu.com/markdown/">markdown</a></p>
</blockquote>
<hr />
<h3>下载安装</h3>
<p>由于是linux环境,大部分依赖是有的,没有的话可以通过yum/apt-get去安装.win的话就请参照安装.</p>
<blockquote>
<ol>
<li>安装python (2.7+,低版本的不支持)</li>
<li>安装git</li>
<li>安装pip</li>
<li>安装pelican&amp;markdown    </li>
</ol>
</blockquote>
<div class="highlight"><pre>pip install pelican
pip install markdown
</pre></div>


<hr />
<h3>框架初建</h3>
<p>创建文件夹,执行以下命令</p>
<div class="highlight"><pre>mkdir blog //注意命名
cd blog
pelican-quickstart
</pre></div>


<p>pelican-quickstart执行命令后,可以依照向导,输入相关配置项,怎么填写可以很随意,后续都可以在pelicanconf.py文件中进行更改.</p>
<p>命令成功执行后,会出现pelican的框架,如下所示:</p>
<div class="highlight"><pre>blog/
|-- content             # 存放输入的markdown或RST源文件
|-- output              # 存放最终生成的静态博客
|-- pelicanconf.py      # 配置文件
|-- develop_server.sh   # 测试服务器
|-- Makefile            # 管理博客的Makefile
`-- publishconf.py      # 发布文件，可删除
</pre></div>


<p>以上完成整体大的框架.</p>
<hr />
<h4>填写内容</h4>
<p>至此,我们可以开始使用Markdown创建一个页面,进入content文件夹,创建一个.md文件.大致如:</p>
<p><img alt="Alt text" src="/pictures/pic1.png" /></p>
<p>可以通过截图看到我现在这个页面的Markdown版本的源文件,这里要说的是开头部分的<strong>Title,Category</strong>等重点字段.详情见<a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/getting_started.html#pelican">文档</a>,涵义如下:</p>
<div class="highlight"><pre>Title: 文章标题
Date: 创建日期
Modified: 修改日期
Category: 文章分类，标志本文处于该分类下
Tags: 文章标签，标志本文处于该标签下
Slug: URL中该文章的链接地址
Author: 作者
</pre></div>


<p>可以简单的写个内容做测试,然后回到<strong>blog</strong>目录下.</p>
<p>执行<strong>make html</strong>生成html</p>
<div class="highlight"><pre>[jingbo.li@zero bigbo-blog]$ make html 
pelican /home/jingbo.li/dev/bigbo-blog/content -o /home/jingbo.li/dev/bigbo-blog/output -s /home/jingbo.li/dev/bigbo-blog/pelicanconf.py 
Done: Processed 1 article(s), 0 draft(s) and 1 page(s) in 0.83 seconds.
</pre></div>


<p>表示已经生成了html页面,可以去<strong>/blog/output</strong>目录下查看已经生成的html页面.</p>
<p>接着执行<strong>make server</strong>开启服务,可以看到相关log</p>
<div class="highlight"><pre>[jingbo.li@zero bigbo-blog]$ make serve 
cd /home/jingbo.li/dev/bigbo-blog/output &amp;&amp; python -m pelican.server
</pre></div>


<p>即可可以用浏览器访问<strong>http://localhost:8000</strong>看到显示效果.</p>
<p><strong>*AD:更多便捷命令</strong></p>
<div class="highlight"><pre>make regenerate     #修改后自动创建静态界面(make html)
make devserver      #相当于regenerate+serve
make publish        #生成用于发布的html
</pre></div>


<p>文档中还有其他一些命令,请自行发掘.</p>
<hr />
<h3>设置相关</h3>
<hr />
<h4>主题选择</h4>
<p>如果你能到这一步,那么恭喜你,你已经搭建完一个属于自己的博客了.以下是对自己博客的包装.
首先打开<a href="http://www.pelicanthemes.com/">主题官网</a>挑选自己喜欢的主题,当然我们可以把整个<a href="https://github.com/getpelican/pelican-themes">主题库</a>clone到本地.</p>
<div class="highlight"><pre> git clone https://github.com/getpelican/pelican-themes.git
</pre></div>


<p>现在可以自由选择不错的主题了.打开<strong>pelicanconf.py</strong>配置文件,添加或是更改<strong>THEME</strong>为自己喜欢的主题.更多配置请见<a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/settings.html#id20">官方文档</a>.</p>
<p>例如选择notmyidea-cms-fr主题:</p>
<div class="highlight"><pre>THEME = &#39;pelican-themes/notmyidea-cms-fr&#39; #相对路径或是绝对路径
</pre></div>


<hr />
<h5>link的图标不加载</h5>
<p>主题选择后打开页面一看,擦,有些瑕疵,旁边的一些github等连接没有图片,影响美观不说B格瞬减.
连接上的小图标:</p>
<p><img alt="如图上面的小图标" src="/pictures/pic2.png" title="u&quot;如图上面的小图标&quot;" /></p>
<p>通过分析查看原因,得知是由于css问题,来到主题文件夹下,尝试修改加载的css文件:</p>
<div class="highlight"><pre>  <span class="nt">cd</span> <span class="nt">pelican-themes</span><span class="o">/</span><span class="nt">notmyidea-cms-fr</span><span class="o">/</span><span class="nt">static</span><span class="o">/</span><span class="nt">css</span>
  <span class="nt">vim</span> <span class="nt">main</span><span class="nc">.css</span>
  <span class="err">#添加如下字段</span>
  <span class="nc">.social</span> <span class="nt">a</span><span class="cp">[</span><span class="nx">href</span><span class="o">*=</span><span class="s1">&#39;github.com&#39;</span><span class="cp">]</span><span class="nd">:before</span> <span class="p">{</span><span class="k">content</span><span class="o">:</span> <span class="sx">url(&#39;../images/icons/github.png&#39;)</span><span class="p">;</span> <span class="k">margin-right</span><span class="o">:</span> <span class="m">2px</span><span class="p">;</span> <span class="k">vertical-align</span><span class="o">:</span> <span class="m">-3px</span><span class="p">;}</span>
  <span class="err">#注意在相应位置放上图标</span>
</pre></div>


<p>久违的图标就会展现在你的眼前了,B格瞬间上升几个百分点.</p>
<hr />
<h4>添加评论系统</h4>
<p>历经沧桑,终于算是大功告成.等下!貌似还缺一个功能,评论系统.评论可以促进交流,所以这个当然不能少了.目前采用的是国外的评论系统<a href="https://disqus.com/">Disqus</a>,安装流程注册填写,会给你博客相关站点分配一个<strong>Shortname</strong>.</p>
<p>回到配置文件<strong>pelicanconf.py</strong>添加配置</p>
<div class="highlight"><pre>DISQUS_SITENAME = Shortname
</pre></div>


<p>现在大功告成,可以生成页面开始把玩一番吧!</p>
<hr />
<h3>编写文章</h3>
<p>几经转辗,终于可以发篇文章炫耀下了,哈哈哈.本文给予<strong>github pages</strong>,当然如果你有自己的服务器可以根据<a href="https://help.github.com/articles/creating-pages-with-the-automatic-generator/">官方教程</a>设置你自己的站点服务器.这样你就拥有一个二级域名和一个版本库.任性的更新.</p>
<p>进入<strong><em>blog</em></strong>目录下的<strong><em>output</em></strong>文件夹内,依次执行以下命令:</p>
<div class="highlight"><pre>  git init
  git add .
  git remote add origin https://github.com/bigbo/bigbo.github.io
  git pull origin master
  git commit -m &#39;create blog&#39;
  git push origin master
</pre></div>


<p>当然如果你不会git,没关系,现在先按照<a href="http://www.git-scm.com/book/zh/v1">官方文档</a>敲就可以了.熟悉git的同学可以选择使用框架提供的<strong>Makefile</strong>文件进行一键上传.</p>
<p>一个完整的博客创建发布流程算是完成了.最后打开浏览器访问github pages的域名即可访问.</p>
<hr />
<h3>总结</h3>
<p>目前博客已经可以满足基本的正常使用了.其实我们还可以对其进行不断完善,让其变得更优雅.后续再写些关于插件\配置等有关的内容.</p>
<p>第一次建立属于自己的空间,写的过程中参见了网上不少的例子,内容都是参疵不齐.更多的是参照官方文档,或是请教<a href="http://google.com">google</a>,这个过程持续了3--4天,终于完成了第一篇,收获还是满满的.当然后续还会有第二第三篇.</p>
<p>不管怎样,收获远大于付出.也算是为2014画上半个句号.希望 2015 come on!</p>

      </div><!-- /.entry-content -->

        <div class="comments">
                <h2>Comments !</h2>
                    <!-- Duoshuo Comment BEGIN -->
                        <div class="ds-thread"></div>
                            <script type="text/javascript">
        var duoshuoQuery = {short_name:"bigbo"};
  (function() {
      var ds = document.createElement('script');
         ds.type = 'text/javascript';ds.async = true;
            ds.src = 'http://static.duoshuo.com/embed.js';
               ds.charset = 'UTF-8';
                  (document.getElementsByTagName('head')[0]
                       || document.getElementsByTagName('body')[0]).appendChild(ds);

                     })();
  </script>
    <noscript>Please enable JavaScript to view the comments.</noscript>
    <!-- Duoshuo Comment END -->


    </article>
  </section>
</div>
            </div>
        </div>
    </div>

    <footer id="site-footer">
        <div class="row-fluid">
            <div class="span10 offset1">
                <address>
                    <p>
                    Copyright 2014-2015 by <a href="http://bigbo.github.io/">ljingb</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                    </p>
                    <p>
                    Powered by <a href="http://getpelican.com/">Pelican</a>,<a href="http://github.com/jsliang/pelican-fresh/">Fresh</a> is a responsive theme designed by <a href="http://jsliang.com/">jsliang</a> and <a href="https://github.com/jsliang/pelican-fresh/graphs/contributors">contributors</a>.
                    </p>
                </address>
            </div>
        </div>
    </footer>

<script type="text/javascript">
    var disqus_shortname = 'bigbo';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
    <script src="//code.jquery.com/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
</body>
</html>